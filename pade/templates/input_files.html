{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block content %}

<h2>You can upload a new raw file:</h2>

<form action="{{url_for('upload_input_file')}}" method="post" enctype="multipart/form-data">
  <p>
    {{ form.input_file()|safe }}
  </p>
  <p>
    {{ form.description.label }} <br/>
    {{ form.description()|safe }}
  </p>

  {{ form.submit }}
</form>


<h2>Or choose an existing raw file:</h2>

<ul>

  {% for s in input_file_metas %}

  <li>
  
    <a href="{{url_for('input_file_details', raw_file_id=s.obj_id)}}">{{ s.name }}</a> <br/>
   {{ s.size }} bytes, uploaded {{ s.dt_created|datetime }} <br/>
  <em>{{ s.description }}</em> <br/>
  Jobs based on this file: 
  {% for job_id in s.job_ids %}
  <a href="{{url_for('job_details', job_id=job_id)}}">{{ job_id }}</a>
  {% endfor %}

  <br/>
  <a href="{{url_for('select_input_file', input_file_id=s.obj_id)}}">Create job based on this file</a>  
  </li>
  {% endfor %}
</ul>


{% endblock %}
