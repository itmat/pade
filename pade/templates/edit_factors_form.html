{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block content %}

<table>

<h2>Factors</h2>

First you need to define the factors, or variables, that you want to
associate with the columns. 

<ul>
{% for f in schema.factors %}
<li>{{ f }} (<a href="{{url_for('delete_factor', name=f)}}">delete</a>)
  Possible values:
  <ul>
    
    {% for v in schema.factors[f] %}
    <li>{{ v }}</li>
    {% endfor %}
    
    <li>
      <form action="{{url_for('add_factor_value', factor=f)}}" method="post">
        <p>
          <input type="text" name="factor_value"></input>
          <input type="submit" value="Add value"></input>
        </p>
      </form> 
    </li>
  </ul>

</li>
{% endfor %}
<li>
  <form action="{{url_for('add_factor')}}" method="post">
    <p>
      <input type="text" name="name"></input>
      <input type="submit" value="Add factor"></input>
    </p>
  </form>
</li>
</ul>

<p>
<a href="{{url_for('input_file_list')}}">Previous step</a> (select input file)
</p>

<p>
<a href="{{url_for('set_column_roles')}}">Next step (setup columns)</a>
</p>


<a href="{{url_for('clear_job_scratch')}}">Clear job scratch space</a>
{% endblock %}
