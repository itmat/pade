

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; PADE 6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PADE 6.0 documentation" href="index.html" />
    <link rel="next" title="Algorithm" href="algorithm.html" />
    <link rel="prev" title="Welcome to Pade’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="algorithm.html" title="Algorithm"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Pade’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PADE 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-pade">
<h2>Installing PADE<a class="headerlink" href="#installing-pade" title="Permalink to this headline">¶</a></h2>
<p>Pade is written in Python, and depends heavily on several Python
libraries, such as:</p>
<ul class="simple">
<li>jinja2</li>
<li>matplotlib</li>
<li>scipy</li>
<li>numpy</li>
<li>redis</li>
<li>celery</li>
<li>h5py</li>
<li>flask</li>
<li>Flask-WTF</li>
</ul>
<p>PADE has been primarily tested on Ubuntu 12.04.1, so installing it on
similar Ubuntu systems should be easy. You can most likely install it
on other Linux distributions or Mac OS X, although OS X can be a bit
tricky.</p>
<div class="section" id="on-an-amazon-ec2-instance">
<h3>On an Amazon EC2 Instance<a class="headerlink" href="#on-an-amazon-ec2-instance" title="Permalink to this headline">¶</a></h3>
<p>Installing and running PADE on an Amazon EC2 instance is very straightforward. We recommend starting an instance based on the <tt class="docutils literal"><span class="pre">ami-3fec7956</span></tt> AMI. Then ssh to the instance, and run:</p>
<div class="highlight-python"><pre>wget https://raw.github.com/itmat/pade/master/ubuntu_dev_setup.sh -O - | bash</pre>
</div>
<p>This will install git and several Python packages system-wide, create
a local Python environment using virtual env, install PADE&#8217;s
dependencies into that environment, and link PADE&#8217;s executable and
libraries into that environment. Then simply run:</p>
<div class="highlight-python"><pre>source padeenv/bin/activate</pre>
</div>
<p>to activate the environment, and then you should be able to run
<tt class="docutils literal"><span class="pre">pade</span></tt>.</p>
</div>
<div class="section" id="on-ubuntu">
<h3>On Ubuntu<a class="headerlink" href="#on-ubuntu" title="Permalink to this headline">¶</a></h3>
<p>You should be able to use the above instructions for installing PADE
on an Amazon EC2 instance to install PADE on any Ubuntu machine,
however the ubuntu_dev_setup.sh script has been primarily tested on
fresh EC2 instances.</p>
<p>We recommend installing the following packages via apt-get:</p>
<div class="highlight-python"><pre>apt-get install git python-numpy python-scipy python-matplotlib python-h5py redis-server python-setuptools python-pip</pre>
</div>
<p>Then install virtualenv via pip:</p>
<div class="highlight-python"><pre>pip install virtualenv</pre>
</div>
<p>Create a virtualenv environment:</p>
<div class="highlight-python"><pre>virtualenv --system-site-packages padeenv</pre>
</div>
<p>Activate the environment:</p>
<div class="highlight-python"><pre>source padeenv/bin/activate</pre>
</div>
<p>Obtain pade and install it into your newly active padeenv environment:</p>
<blockquote>
<div>git clone <a class="reference external" href="https://github.com/itmat/pade.git">https://github.com/itmat/pade.git</a>
cd pade
python setup.py develop</div></blockquote>
<p>Then you should be able to run <tt class="docutils literal"><span class="pre">pade</span></tt>.</p>
</div>
<div class="section" id="on-mac-os-x">
<h3>On Mac OS X<a class="headerlink" href="#on-mac-os-x" title="Permalink to this headline">¶</a></h3>
<p>Installing numpy, scipy and h5py on a Mac can be difficult. The
easiest way to get up and running may be to use a Python distribution
that has scientific computing libraries pre-packaged with it. You
should be able to use the <em>Enthought Python Distribution</em>, available
here: <a class="reference external" href="http://www.enthought.com/products/epd.php">http://www.enthought.com/products/epd.php</a>. After you install
EPD, <em>please make sure that the python you&#8217;re using when you run
``python`` is actually the one from EPD</em>. Then you should be able to
install PADE by running <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></tt> from within
the PADE source directory.</p>
</div>
</div>
<div class="section" id="running-a-sample-job">
<h2>Running a sample job<a class="headerlink" href="#running-a-sample-job" title="Permalink to this headline">¶</a></h2>
<p>We recommend running a small job using the sample data provided in the
pade distribution in order to familiarize yourself with the program
before attempting to run it on your own data.</p>
<p>The pade distribution includes a couple very small sample data files,
in the <tt class="docutils literal"><span class="pre">sample_data</span></tt> directory.</p>
<div class="section" id="input-files">
<h3>Input files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h3>
<p>The input to any pade job is a tab-delimited file. The file must
contain a header row, plus one row for each feature. There should be
one column that contains a unique identifier for the features (for
example a gene id). Then each of the samples should have their
expression values for each feature in its own column. So for example
if you 2 conditions, each with 4 replicates, and 1000 features, you
would have a tab file with a header row plus 1000 data rows, with 9
columns (1 for the feature id and 8 for the expression data).</p>
<p>The names of the columns do not matter, except that each column&#8217;s name
must be unique.</p>
</div>
<div class="section" id="creating-the-schema">
<h3>Creating the schema<a class="headerlink" href="#creating-the-schema" title="Permalink to this headline">¶</a></h3>
<p>The first step of any pade job is to run <tt class="docutils literal"><span class="pre">pade</span> <span class="pre">setup</span></tt> on the input
file, which will create a &#8220;schema&#8221; file that you will then edit to
describe the grouping of columns in the input file. You run <tt class="docutils literal"><span class="pre">pade</span>
<span class="pre">setup</span></tt> and provide the input file on the command line, plus a
<tt class="docutils literal"><span class="pre">--factor</span></tt> argument for each factor that you want to use to group
the columns. For example, suppose say we are trying to find genes that
are differentially expressed due to some treatment, and we want to
treat gender as a &#8220;nuisance&#8221; variables. So we have two factors:
&#8220;treated&#8221; and &#8220;gender&#8221;. We would setup the job as follows:</p>
<div class="highlight-python"><pre>pade setup --factor gender --factor treated sample_data/sample_data_4_class.txt -o schema.yaml</pre>
</div>
<p>This will read in the input file and create a skeleton &#8220;schema&#8221; file
based on it, in schema.yaml. We then need to edit this file to list
the values available for each of the two factors, and to assign those
factor values to each of the sample column names.</p>
<p>First, in the very top section of the schema.yaml file,
list the valid values for the factors. Change it to look like this:</p>
<div class="highlight-python"><pre>factors:
- name: treated
  values: [no, yes]
- name: gender
  values: [male, female]</pre>
</div>
<p>Next, look for the section called <tt class="docutils literal"><span class="pre">sample_factor_mapping</span></tt>. This
lists each sample column in the input file, like this:</p>
<div class="highlight-python"><pre>sample_factor_mapping:
  c0r1:
    gender: null
    treated: null
  c0r2:
    gender: null
    treated: null
...</pre>
</div>
<p>You will need to edit the settings for each column to indicate the
gender and whether or not it was treated:</p>
<div class="highlight-python"><pre>sample_factor_mapping:
  c0r1:
    gender: male
    treated: no
  c0r2:
    gender: male
    treated: no
...
  c3r4:
    gender: female
    treated: yes</pre>
</div>
</div>
<div class="section" id="running-the-analysis">
<h3>Running the analysis<a class="headerlink" href="#running-the-analysis" title="Permalink to this headline">¶</a></h3>
<p>Once you have created the schema file, you are ready to run the
analysis, using <tt class="docutils literal"><span class="pre">pade</span> <span class="pre">run</span></tt>. You&#8217;ll need to specify a couple options,
most importantly <tt class="docutils literal"><span class="pre">--condition</span></tt> and <tt class="docutils literal"><span class="pre">--schema</span></tt>.</p>
<div class="section" id="condition-and-block">
<h4>Condition and Block<a class="headerlink" href="#condition-and-block" title="Permalink to this headline">¶</a></h4>
<p><tt class="docutils literal"><span class="pre">--condition</span></tt> allows you to specify the factor the represents the
experimental condition that you want to test for differential
effects. <tt class="docutils literal"><span class="pre">--block</span></tt> allows you to optionally specify &#8220;nuisance
variables&#8221;. If you specify one or more blocking factors, permutations
will be restricted by those factors, so that for every permutation,
the labelling of those blocking factors does not change for any sample.</p>
<p>For example, if you have factors &#8220;gender&#8221; and &#8220;treated&#8221;, and you want
to test for differential effects due to treatment within each value of
gender, you would run:</p>
<div class="highlight-python"><pre>--condition treated --block gender</pre>
</div>
</div>
<div class="section" id="default-settings">
<h4>Default settings<a class="headerlink" href="#default-settings" title="Permalink to this headline">¶</a></h4>
<p>The simplest Pade job for our 4-class sample input would be something like:</p>
<div class="highlight-python"><pre>pade run --condition treated --block gender --schema schema.yaml sample_data/sample_data_4_class.txt -o results.pade</pre>
</div>
<p>This should take less than a minute. Note that you need to provide the
input file on the command line.</p>
</div>
<div class="section" id="interesting-options">
<h4>Interesting options<a class="headerlink" href="#interesting-options" title="Permalink to this headline">¶</a></h4>
<p>By default, Pade computes the false discovery rate by using a
permutation test with the f-statistic. You can change the method used
for computing the false discovery rate with the &#8220;&#8211;sample-method&#8221; and
&#8220;&#8211;sample-from&#8221; options. This allows you to do bootstrapping instead
of permutation, and to sample from either the raw data values or from
the residuals of the data values (from the means predicted by the
reduced model). Please see <tt class="docutils literal"><span class="pre">pade</span> <span class="pre">run</span> <span class="pre">-h</span></tt> for more details.</p>
<p>You can change the number of samples used for bootstrapping (or the
permutation test) with <tt class="docutils literal"><span class="pre">--num-samples</span></tt> or <tt class="docutils literal"><span class="pre">-R</span></tt>.</p>
<p>By default Pade prints very little output; just a report at the end
showing the distribution of the confidence levels. You can make it be
more verbose with the <tt class="docutils literal"><span class="pre">--verbose</span></tt> or <tt class="docutils literal"><span class="pre">-v</span></tt> option. It will print
even more debugging-level output if you give it <tt class="docutils literal"><span class="pre">--debug</span></tt> or <tt class="docutils literal"><span class="pre">-d</span></tt>.</p>
<p>You can change the statistic pade uses with the &#8216;&#8211;stat&#8217;
option. Currently we support the following statistics:</p>
<dl class="docutils">
<dt>f_test:</dt>
<dd>F-test. Can only be used where each group has two or more samples.</dd>
<dt>one_sample_t_test:</dt>
<dd>Single sample t-test, for paired input only.</dd>
<dt>means_ratio:</dt>
<dd>Ratio of means. Can only be used when there are two conditions. Can
be used with or without blocking. Works with paired data also.</dd>
<dt>glm: A generalized linear model. If you specify this statistic, you</dt>
<dd>must also specify a distribution family using the &#8216;&#8211;glm-family&#8217;
option. Please see <tt class="docutils literal"><span class="pre">pade</span> <span class="pre">help</span> <span class="pre">run</span></tt> for a list of the supported
families.</dd>
</dl>
</div>
</div>
<div class="section" id="viewing-reports">
<h3>Viewing reports<a class="headerlink" href="#viewing-reports" title="Permalink to this headline">¶</a></h3>
<p>When you run <tt class="docutils literal"><span class="pre">pade</span> <span class="pre">run</span></tt>, it will store the results of the analysis
in a binary file (you specify the path with the &#8211;output option).
Once that step is done, you can generate a tab-delimited text file
containing the results, or launch a small web server to display the
results in HTML format. To generate the text file output, run:</p>
<div class="highlight-python"><pre>pade report results.pade</pre>
</div>
<p>To start the HTML viewer, run:</p>
<div class="highlight-python"><pre>pade view results1.pade results2.pade ...</pre>
</div>
<p>It will take a few seconds to start up, and should open a web browser
pointing to the results.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#installing-pade">Installing PADE</a><ul>
<li><a class="reference internal" href="#on-an-amazon-ec2-instance">On an Amazon EC2 Instance</a></li>
<li><a class="reference internal" href="#on-ubuntu">On Ubuntu</a></li>
<li><a class="reference internal" href="#on-mac-os-x">On Mac OS X</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-a-sample-job">Running a sample job</a><ul>
<li><a class="reference internal" href="#input-files">Input files</a></li>
<li><a class="reference internal" href="#creating-the-schema">Creating the schema</a></li>
<li><a class="reference internal" href="#running-the-analysis">Running the analysis</a><ul>
<li><a class="reference internal" href="#condition-and-block">Condition and Block</a></li>
<li><a class="reference internal" href="#default-settings">Default settings</a></li>
<li><a class="reference internal" href="#interesting-options">Interesting options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#viewing-reports">Viewing reports</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Pade&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="algorithm.html"
                        title="next chapter">Algorithm</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/getting_started.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="algorithm.html" title="Algorithm"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Pade’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">PADE 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, University of Pennsylvania.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>