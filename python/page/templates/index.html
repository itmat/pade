{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block content %}

    <h2>Num. features by confidence level</h2>

    <h2>Model</h2>

    {{ job.model }}

    <h2>Results</h2>

    <table>
      <tr>
        <th>Feature num</th>
        <th>Feature id</th>

        <th>{{ job.stat_name }} stat</th>

        {% for name in job.condition_names %}
        <th>{{ name }}</th>
        {% endfor %}
      </tr>

      {% for i in range(job.num_features) %}
      <tr>
        <td>{{ i }}</td>
        <td>{{ job.feature_ids[i] }}</td>

        <!-- Should get list of stats -->
        <td>{{ "%.2f"|format(job.stats[i]) }}</td>

        <!-- Should do one mean per group -->
        {% for mean in job.means.swapaxes(0, 1)[i] %}
        <td>{{ "%.2f"|format(mean) }}</td>
        {% endfor %}

      </tr>
      {% endfor %}

    </table>

    <p>
      This shows the number of features differentially expressed (up
      and down separately) at each confidence level, for each
      class. Up-regulated lines have upward pointing triangle markers,
      and down-regulated lines have downward pointing triangles.
    </p>

{% endblock %}
