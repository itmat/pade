{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block content %}

    <h2>Num. features by confidence level</h2>

    <h2>Model</h2>

    {{ job.model }}

    <h2>Results</h2>

    <table>
      <tr>
        <th>Feature num</th>
        <th>Feature id</th>

        <th>{{ job.stat_name }} stat</th>

        {% for name in job.condition_names %}
        <th>mean<br/>{{ name }}</th>
        {% endfor %}

        {% for name in job.condition_names %}
        <th>coeff<br/>{{ name }}</th>
        {% endfor %}
      </tr>

      {% for i in range(job.num_features) %}
      <tr>
        <td>{{ i }}</td>
        <td>{{ job.feature_ids[i] }}</td>

        <!-- Should get list of stats -->
        <td>{{ "%.2f"|format(job.stats[i]) }}</td>

        <!-- Mean for each condition -->
        {% for mean in job.means.swapaxes(0, 1)[i] %}
        <td>{{ "%.2f"|format(mean) }}</td>
        {% endfor %}

        <!-- Coefficient for each condition -->
        {% for coeff in job.coeffs.swapaxes(0, 1)[i] %}
        <td>{{ "%.2f"|format(coeff) }}</td>
        {% endfor %}

      </tr>
      {% endfor %}

    </table>

{% endblock %}
