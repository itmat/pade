

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Documentation &mdash; PaGE 6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PaGE 6.0 documentation" href="index.html" />
    <link rel="next" title="Status Updates" href="status_updates.html" />
    <link rel="prev" title="Algorithm" href="algorithm.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="status_updates.html" title="Status Updates"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="algorithm.html" title="Algorithm"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PaGE 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pade.common">
<span id="pade-common"></span><h2>pade.common<a class="headerlink" href="#module-pade.common" title="Permalink to this headline">¶</a></h2>
<p>Some generally useful functions.</p>
<p>We may want to pull these out of PaGE someday and put them in a shared
project.</p>
<dl class="function">
<dt id="pade.common.chdir">
<tt class="descclassname">pade.common.</tt><tt class="descname">chdir</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/pade/common.html#chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.common.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for changing working directory.</p>
<p>cds to the given path, yeilds, then changes back.</p>
</dd></dl>

<dl class="function">
<dt id="pade.common.double_sum">
<tt class="descclassname">pade.common.</tt><tt class="descname">double_sum</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/pade/common.html#double_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.common.double_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sum of data over the first two axes.</p>
</dd></dl>

<dl class="function">
<dt id="pade.common.figure">
<tt class="descclassname">pade.common.</tt><tt class="descname">figure</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/pade/common.html#figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.common.figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for saving a figure.</p>
<p>Clears the current figure, yeilds, then saves the figure to the
given path and clears the figure again.</p>
</dd></dl>

<dl class="function">
<dt id="pade.common.fix_newlines">
<tt class="descclassname">pade.common.</tt><tt class="descname">fix_newlines</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="_modules/pade/common.html#fix_newlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.common.fix_newlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to wrap long lines as paragraphs.</p>
<p>Treats each line in the given message as a paragraph. Wraps each
paragraph to avoid long lines. Returns a string that contains all
the wrapped paragraphs, separated by blank lines.</p>
</dd></dl>

<dl class="function">
<dt id="pade.common.makedirs">
<tt class="descclassname">pade.common.</tt><tt class="descname">makedirs</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/pade/common.html#makedirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.common.makedirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to make the directory.</p>
<p>Attempt to make each director, and raise an exception if it cannot
be created. Returns normally if the directory was successfully
created or if it already existed.</p>
</dd></dl>

</div>
<div class="section" id="module-pade.db">
<span id="pade-db"></span><h2>pade.db<a class="headerlink" href="#module-pade.db" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pade.main">
<span id="pade-main"></span><h2>pade.main<a class="headerlink" href="#module-pade.main" title="Permalink to this headline">¶</a></h2>
<p>The main program for pade.</p>
<dl class="exception">
<dt id="pade.main.UsageException">
<em class="property">exception </em><tt class="descclassname">pade.main.</tt><tt class="descname">UsageException</tt><a class="reference internal" href="_modules/pade/main.html#UsageException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.UsageException" title="Permalink to this definition">¶</a></dt>
<dd><p>Thrown when the user gave invalid parameters.</p>
</dd></dl>

<dl class="function">
<dt id="pade.main.compute_coeffs">
<tt class="descclassname">pade.main.</tt><tt class="descname">compute_coeffs</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#compute_coeffs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.compute_coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the coefficients for the full model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db</strong> &#8211; The page.db.DB</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A (names, values) tuple where values is a (feature x coeff)
array giving the value of each coefficient for each feature, and
names is the list of names of the coefficients.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pade.main.compute_fold_change">
<tt class="descclassname">pade.main.</tt><tt class="descname">compute_fold_change</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#compute_fold_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.compute_fold_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute fold change.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db</strong> &#8211; The pade.db.DB</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A (names, values) tuple where values is a (feature x group)
array giving the fold change for each group for each feature,
and names is the list of names for the groups.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pade.main.compute_means">
<tt class="descclassname">pade.main.</tt><tt class="descname">compute_means</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#compute_means"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.compute_means" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the means for each group in the full model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db</strong> &#8211; The pade.db.DB</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A (names, values) tuple where values is a (feature x group)
ndarray that gives the mean for each group for each feature. The
groups are based on the &#8216;full model&#8217; (combination of condition
variables and blocking variables)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pade.main.get_arguments">
<tt class="descclassname">pade.main.</tt><tt class="descname">get_arguments</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pade/main.html#get_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.get_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the command line options and return an argparse args
object.</p>
</dd></dl>

<dl class="function">
<dt id="pade.main.init_schema">
<tt class="descclassname">pade.main.</tt><tt class="descname">init_schema</tt><big>(</big><em>infile=None</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#init_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.init_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new schema based on the given infile.</p>
<p>Does not save it or make any changes to the state of the file
system.</p>
</dd></dl>

<dl class="function">
<dt id="pade.main.new_sample_indexes">
<tt class="descclassname">pade.main.</tt><tt class="descname">new_sample_indexes</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#new_sample_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.new_sample_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create array of sample indexes and store in db.</p>
</dd></dl>

<dl class="function">
<dt id="pade.main.stat_for_name">
<tt class="descclassname">pade.main.</tt><tt class="descname">stat_for_name</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#stat_for_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.stat_for_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The statistic used for this job.</p>
</dd></dl>

<dl class="function">
<dt id="pade.main.summarize_by_conf_level">
<tt class="descclassname">pade.main.</tt><tt class="descname">summarize_by_conf_level</tt><big>(</big><em>db</em><big>)</big><a class="reference internal" href="_modules/pade/main.html#summarize_by_conf_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.main.summarize_by_conf_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify db to summarize the counts by conf level</p>
</dd></dl>

</div>
<div class="section" id="module-pade.model">
<span id="pade-model"></span><h2>pade.model<a class="headerlink" href="#module-pade.model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pade.model.DummyVarAssignment">
<em class="property">class </em><tt class="descclassname">pade.model.</tt><tt class="descname">DummyVarAssignment</tt><a class="headerlink" href="#pade.model.DummyVarAssignment" title="Permalink to this definition">¶</a></dt>
<dd><p>DummyVarAssignment(factor_values, bits, indexes)</p>
<dl class="attribute">
<dt id="pade.model.DummyVarAssignment.bits">
<tt class="descname">bits</tt><a class="headerlink" href="#pade.model.DummyVarAssignment.bits" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.DummyVarAssignment.factor_values">
<tt class="descname">factor_values</tt><a class="headerlink" href="#pade.model.DummyVarAssignment.factor_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.DummyVarAssignment.indexes">
<tt class="descname">indexes</tt><a class="headerlink" href="#pade.model.DummyVarAssignment.indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pade.model.DummyVarTable">
<em class="property">class </em><tt class="descclassname">pade.model.</tt><tt class="descname">DummyVarTable</tt><a class="headerlink" href="#pade.model.DummyVarTable" title="Permalink to this definition">¶</a></dt>
<dd><p>DummyVarTable(names, rows)</p>
<dl class="attribute">
<dt id="pade.model.DummyVarTable.names">
<tt class="descname">names</tt><a class="headerlink" href="#pade.model.DummyVarTable.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.DummyVarTable.rows">
<tt class="descname">rows</tt><a class="headerlink" href="#pade.model.DummyVarTable.rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pade.model.FittedModel">
<em class="property">class </em><tt class="descclassname">pade.model.</tt><tt class="descname">FittedModel</tt><a class="headerlink" href="#pade.model.FittedModel" title="Permalink to this definition">¶</a></dt>
<dd><p>FittedModel(labels, x, y_indexes, params)</p>
<dl class="attribute">
<dt id="pade.model.FittedModel.labels">
<tt class="descname">labels</tt><a class="headerlink" href="#pade.model.FittedModel.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.FittedModel.params">
<tt class="descname">params</tt><a class="headerlink" href="#pade.model.FittedModel.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.FittedModel.x">
<tt class="descname">x</tt><a class="headerlink" href="#pade.model.FittedModel.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.model.FittedModel.y_indexes">
<tt class="descname">y_indexes</tt><a class="headerlink" href="#pade.model.FittedModel.y_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pade.model.ModelExpressionException">
<em class="property">exception </em><tt class="descclassname">pade.model.</tt><tt class="descname">ModelExpressionException</tt><a class="reference internal" href="_modules/pade/model.html#ModelExpressionException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.model.ModelExpressionException" title="Permalink to this definition">¶</a></dt>
<dd><p>Thrown when a model expression is invalid.</p>
</dd></dl>

<dl class="function">
<dt id="pade.model.dummy_vars">
<tt class="descclassname">pade.model.</tt><tt class="descname">dummy_vars</tt><big>(</big><em>schema</em>, <em>factors=None</em>, <em>level=None</em><big>)</big><a class="reference internal" href="_modules/pade/model.html#dummy_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.model.dummy_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>level=0 is intercept only
level=1 is intercept plus main effects
level=2 is intercept, main effects, interactions between two variables
...
level=n is intercept, main effects, interactions between n variables</p>
</dd></dl>

</div>
<div class="section" id="module-pade.schema">
<span id="pade-schema"></span><h2>pade.schema<a class="headerlink" href="#module-pade.schema" title="Permalink to this headline">¶</a></h2>
<p>Describes a PaGE input file.</p>
<dl class="class">
<dt id="pade.schema.Schema">
<em class="property">class </em><tt class="descclassname">pade.schema.</tt><tt class="descname">Schema</tt><big>(</big><em>is_feature_id=None</em>, <em>is_sample=None</em>, <em>column_names=None</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a PaGE input file.</p>
<dl class="method">
<dt id="pade.schema.Schema.add_factor">
<tt class="descname">add_factor</tt><big>(</big><em>name</em>, <em>values=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.add_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.add_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a factor with the given name and values.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.baseline_value">
<tt class="descname">baseline_value</tt><big>(</big><em>factor</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.baseline_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.baseline_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first value listed in the schema for given factor.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.baseline_values">
<tt class="descname">baseline_values</tt><big>(</big><em>factors</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.baseline_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.baseline_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return first value defined for each of the factors given.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.factor_combinations">
<tt class="descname">factor_combinations</tt><big>(</big><em>factors=None</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.factor_combinations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.factor_combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of possible combinations of values for given factors.</p>
<p>Each item of the returned list is a tuple of values, where
value i is one of the values defined in the schema for factor i.</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.schema.Schema.factor_names">
<tt class="descname">factor_names</tt><a class="reference internal" href="_modules/pade/schema.html#Schema.factor_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.factor_names" title="Permalink to this definition">¶</a></dt>
<dd><p>List of the factor names for this schema.</p>
<p>The factors are given in the same order they appear in the
schema file.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.factor_values">
<tt class="descname">factor_values</tt><big>(</big><em>factor</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.factor_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.factor_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of valid values for the given factor.</p>
<p>The result is sorted according to the order the values are
given in the schema file.</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.schema.Schema.feature_id_column_names">
<tt class="descname">feature_id_column_names</tt><a class="reference internal" href="_modules/pade/schema.html#Schema.feature_id_column_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.feature_id_column_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of column that contains feature ids.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.get_factor">
<tt class="descname">get_factor</tt><big>(</big><em>sample_name</em>, <em>factor</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.get_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.get_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an factor for a sample, identified by sample
name.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.has_baseline">
<tt class="descname">has_baseline</tt><big>(</big><em>assignment</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.has_baseline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.has_baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if any of the variables is assigned to their baseline.</p>
<p>assignment must be a dictionary mapping factors in this schema to
a valid value for that factor. Returns true if any of those mappings
is to the &#8216;baseline&#8217; value for that factor.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.indexes_with_assignments">
<tt class="descname">indexes_with_assignments</tt><big>(</big><em>assignments</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.indexes_with_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.indexes_with_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of indexes that have the given assignments.</p>
<p>assignments - must be a mapping from factor name to value</p>
</dd></dl>

<dl class="classmethod">
<dt id="pade.schema.Schema.load">
<em class="property">classmethod </em><tt class="descname">load</tt><big>(</big><em>stream</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a schema from the specified stream.</p>
<p>The stream can be any type accepted by yaml.load, and must
represent a YAML document in the format produced by
Schema.dump.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.possible_assignments">
<tt class="descname">possible_assignments</tt><big>(</big><em>factors=None</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.possible_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.possible_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all possible mappings from factor name to value.</p>
<p>Optionally provide the factors argument to limit combinations
to those factors.</p>
</dd></dl>

<dl class="attribute">
<dt id="pade.schema.Schema.sample_column_names">
<tt class="descname">sample_column_names</tt><a class="reference internal" href="_modules/pade/schema.html#Schema.sample_column_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.sample_column_names" title="Permalink to this definition">¶</a></dt>
<dd><p>List of the names of columns that contain intensities.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.sample_matches_assignments">
<tt class="descname">sample_matches_assignments</tt><big>(</big><em>sample_name</em>, <em>assignments</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.sample_matches_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.sample_matches_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the sample with the given has the given assignments.</p>
<p>sample_name - must be the name of one of the samples in this schema.
assignments - must be a mapping from factor name to value</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.sample_num">
<tt class="descname">sample_num</tt><big>(</big><em>sample_name</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.sample_num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.sample_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sample number for sample with the given
name. The sample number is the index into the table for the
sample.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.samples_with_assignments">
<tt class="descname">samples_with_assignments</tt><big>(</big><em>assignments</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.samples_with_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.samples_with_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sample names that have the given assignments.</p>
<p>assignments - must be a mapping from factor name to value</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.save">
<tt class="descname">save</tt><big>(</big><em>out</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the schema to the specified file.</p>
</dd></dl>

<dl class="method">
<dt id="pade.schema.Schema.set_factor">
<tt class="descname">set_factor</tt><big>(</big><em>sample_name</em>, <em>factor</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/pade/schema.html#Schema.set_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.schema.Schema.set_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a factor for a sample, identified by sample name.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pade.stat">
<span id="pade-stat"></span><h2>pade.stat<a class="headerlink" href="#module-pade.stat" title="Permalink to this headline">¶</a></h2>
<p>Low-level statistical methods.</p>
<p>This module should be general-purpose, and not have any dependencies
on the data model used in PADE or the workflow. The idea is that we
may use these functions outside of the standard PADE workflow.</p>
<dl class="class">
<dt id="pade.stat.Ftest">
<em class="property">class </em><tt class="descclassname">pade.stat.</tt><tt class="descname">Ftest</tt><big>(</big><em>condition_layout</em>, <em>block_layout</em>, <em>alphas=None</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#Ftest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.Ftest" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the F-test.</p>
<p>Some sample data</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span>  <span class="mf">3.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
</pre></div>
</div>
<p>The condition layout has the first two columns in one group and
the second two in another. There is no blocking, so the block
layout has all columns in one group.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">condition_layout</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block_layout</span>     <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
<p>Construct one ftest based on our layouts</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ftest</span> <span class="o">=</span> <span class="n">Ftest</span><span class="p">(</span><span class="n">condition_layout</span><span class="p">,</span> <span class="n">block_layout</span><span class="p">)</span>
</pre></div>
</div>
<p>Test one row</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">ftest</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">3.6</span>
</pre></div>
</div>
<p>Test multiple rows at once</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ftest</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">array([ 3.6,  1. ,  2.5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pade.stat.MeansRatio">
<em class="property">class </em><tt class="descclassname">pade.stat.</tt><tt class="descname">MeansRatio</tt><big>(</big><em>condition_layout</em>, <em>block_layout</em>, <em>alphas=None</em>, <em>symmetric=True</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#MeansRatio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.MeansRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Means ratio statistic.</p>
<p>Supports layouts where there are two experimental conditions, with
or without blocking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>condition_layout</strong> &#8211; A layout that groups the sample indexes together into groups
that have the same experimental condition. MeansRatio only
supports designs where there are exactly two conditions, so
len(condition_layout) must be 2.</li>
<li><strong>block_layout</strong> &#8211; If the input has blocking variables, then block layout
should be a layout that groups the sample indexes together
by block.</li>
<li><strong>alphas</strong> &#8211; Optional array of &#8220;tuning parameters&#8221;.</li>
<li><strong>symmetric</strong> &#8211; If true, gives the inverse of the ratio when the ratio is less
than 1. Use this when it does not matter which condition is
greater than the other one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pade.stat.OneSampleDifferenceTTest">
<em class="property">class </em><tt class="descclassname">pade.stat.</tt><tt class="descname">OneSampleDifferenceTTest</tt><big>(</big><em>condition_layout</em>, <em>block_layout</em>, <em>alphas=None</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#OneSampleDifferenceTTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.OneSampleDifferenceTTest" title="Permalink to this definition">¶</a></dt>
<dd><p>A one-sample t-test where the input is given as pairs.</p>
<p>Input with two features (one on each row), eight samples
arranged as four pairs.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
</pre></div>
</div>
<p>Pairs are grouped together. Assume we have two conditions, the
even numbered samples are one condition and the odd numbered ones
are the other</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">block_layout</span>     <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">condition_layout</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>Construct the test function with the condition and block layouts.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="n">OneSampleDifferenceTTest</span><span class="p">(</span><span class="n">condition_layout</span><span class="p">,</span> <span class="n">block_layout</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply it to 1d input (the first feature in the table):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">round</span><span class="p">(</span><span class="n">test</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">4.472136</span>
</pre></div>
</div>
<p>Now 2d input (both features in the table):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">round</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">4.472136</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">round</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">0.5656854</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="pade.stat.UnsupportedLayoutException">
<em class="property">exception </em><tt class="descclassname">pade.stat.</tt><tt class="descname">UnsupportedLayoutException</tt><a class="reference internal" href="_modules/pade/stat.html#UnsupportedLayoutException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.UnsupportedLayoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Thrown when a statistic is used with a layout that it can&#8217;t support.</p>
</dd></dl>

<dl class="function">
<dt id="pade.stat.group_means">
<tt class="descclassname">pade.stat.</tt><tt class="descname">group_means</tt><big>(</big><em>data</em>, <em>layout</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#group_means"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.group_means" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the means for each group defined by layout.</p>
<p>Groups data according to the given layout and returns a new
ndarray with the same number of dimensions as data, but with the
last dimension replaced by the means according to the specified
grouping.</p>
<p>One dimensional input:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">group_means</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">array([-2.,  5.])</span>
</pre></div>
</div>
<p>Two dimensional input:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">group_means</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="p">)</span> 
<span class="go">array([[ -2.,  5.],</span>
<span class="go">       [ 11., 35.]])</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; An ndarray. Any number of dimensions is allowed.</li>
<li><strong>layout</strong> &#8211; A <em class="xref std std-term">layout</em> describing the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An ndarray giving the means for each group obtained by
applying the given layout to the given data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pade.stat.residuals">
<tt class="descclassname">pade.stat.</tt><tt class="descname">residuals</tt><big>(</big><em>data</em>, <em>layout</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.residuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the residuals for the given data and layout.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">residuals</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="nb">float</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">array([-0.5,  0.5, -1.5,  1.5])</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> &#8211; An ndarray. Any number of dimensions is allowed.</li>
<li><strong>layout</strong> &#8211; A <em class="xref std std-term">layout</em> describing the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The residuals obtained by subtracting the means of the</p>
</td>
</tr>
</tbody>
</table>
<p>groups defined by the layout from the values in data.</p>
</dd></dl>

<dl class="function">
<dt id="pade.stat.rss">
<tt class="descclassname">pade.stat.</tt><tt class="descname">rss</tt><big>(</big><em>data</em>, <em>layout=None</em><big>)</big><a class="reference internal" href="_modules/pade/stat.html#rss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pade.stat.rss" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the residual sum of squares for the data and optional layout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> &#8211; An n-dimensional array.</li>
<li><strong>layout</strong> &#8211; If provided, the means will becalculated based on the grouping
given by the layout applied to the last axis of data. Otherwise,
no grouping will be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rss</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="nb">float</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">5.0</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-pade.server">
<span id="pade-server"></span><h2>pade.server<a class="headerlink" href="#module-pade.server" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API Documentation</a><ul>
<li><a class="reference internal" href="#module-pade.common">pade.common</a></li>
<li><a class="reference internal" href="#module-pade.db">pade.db</a></li>
<li><a class="reference internal" href="#module-pade.main">pade.main</a></li>
<li><a class="reference internal" href="#module-pade.model">pade.model</a></li>
<li><a class="reference internal" href="#module-pade.schema">pade.schema</a></li>
<li><a class="reference internal" href="#module-pade.stat">pade.stat</a></li>
<li><a class="reference internal" href="#module-pade.server">pade.server</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="algorithm.html"
                        title="previous chapter">Algorithm</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="status_updates.html"
                        title="next chapter">Status Updates</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="status_updates.html" title="Status Updates"
             >next</a> |</li>
        <li class="right" >
          <a href="algorithm.html" title="Algorithm"
             >previous</a> |</li>
        <li><a href="index.html">PaGE 6.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, University of Pennsylvania.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>